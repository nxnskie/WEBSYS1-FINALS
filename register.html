<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Register - PhilTours</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="register.css" />
  <link rel="icon" type="image/jpg" href="images/TRAVEL.png">
</head>
<body class="register-page">
  <main class="register-wrapper">
    <div class="register-container">
      <aside class="hero-panel" aria-hidden="true">
        <div class="hero-inner">
          <h2 class="hero-title">Join PhilTours</h2>
          <p class="hero-text">Create your account to manage tours, bookings, and enquiries. Build your admin presence today.</p>
        </div>
      </aside>

      <section class="form-panel" role="main" aria-labelledby="registerTitle">
        <div class="register-card">
          <img src="images/TRAVEL.png" alt="PhilTours" class="register-logo">
          <h1 id="registerTitle">Create Account</h1>
          <p class="subtitle">Join the PhilTours admin team</p>

          <form id="registerForm" class="register-form" novalidate>
            <div class="form-field">
              <div class="field-label">
                <label for="reg-username">Username</label>
                <span class="input-icon" aria-hidden="true">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M12 12c2.761 0 5-2.239 5-5s-2.239-5-5-5-5 2.239-5 5 2.239 5 5 5z" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/><path d="M20 21v-1c0-2.761-4.477-5-8-5s-8 2.239-8 5v1" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/></svg>
                </span>
              </div>
              <div class="input-row">
                <input id="reg-username" name="username" type="text" required minlength="3" maxlength="20" autocomplete="username" placeholder="Choose a username (3-20 characters)" />
              </div>
              <span class="field-error" id="username-error"></span>
            </div>

            <div class="form-field">
              <div class="field-label">
                <label for="reg-password">Password</label>
                <span class="input-icon" aria-hidden="true">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M17 11V9a5 5 0 00-10 0v2" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/><rect x="3" y="11" width="18" height="10" rx="2" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/></svg>
                </span>
              </div>
              <div class="input-row">
                <div class="password-wrap">
                  <input id="reg-password" name="password" type="password" required minlength="6" autocomplete="new-password" placeholder="Password (at least 6 characters)" />
                  <button type="button" class="show-pass" id="togglePass" aria-label="Show password" aria-pressed="false" title="Show password">
                    <svg class="eye-icon" width="20" height="20" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                      <path class="eye" d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12z" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" />
                      <circle class="pupil" cx="12" cy="12" r="3" fill="currentColor" />
                      <g class="eye-off" opacity="0">
                        <path d="M3 3l18 18" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
                      </g>
                    </svg>
                  </button>
                </div>
              </div>
              <span class="field-error" id="password-error"></span>
            </div>

            <div class="form-field">
              <div class="field-label">
                <label for="reg-confirm">Confirm Password</label>
                <span class="input-icon" aria-hidden="true">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M17 11V9a5 5 0 00-10 0v2" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/><rect x="3" y="11" width="18" height="10" rx="2" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/></svg>
                </span>
              </div>
              <div class="input-row">
                <div class="password-wrap">
                  <input id="reg-confirm" name="confirm" type="password" required autocomplete="new-password" placeholder="Confirm your password" />
                  <button type="button" class="show-pass" id="toggleConfirm" aria-label="Show password" aria-pressed="false" title="Show password">
                    <svg class="eye-icon" width="20" height="20" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                      <path class="eye" d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12z" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" />
                      <circle class="pupil" cx="12" cy="12" r="3" fill="currentColor" />
                      <g class="eye-off" opacity="0">
                        <path d="M3 3l18 18" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
                      </g>
                    </svg>
                  </button>
                </div>
              </div>
              <span class="field-error" id="confirm-error"></span>
            </div>

            <div class="controls">
              <button type="submit" class="register-btn">Create Account</button>
            </div>

            <p id="register-error" class="register-error" aria-live="polite"></p>
            <p id="register-success" class="register-success" aria-live="polite"></p>
          </form>

          <p class="signin-link">Already have an account? <a href="login.html">Sign in here</a></p>
        </div>
      </section>
    </div>
  </main>

  <!-- Modal for duplicate user -->
  <div id="userExistsModal" class="modal" aria-modal="true" role="alertdialog" aria-labelledby="modalTitle" hidden>
    <div class="modal-content">
      <h2 id="modalTitle">User Already Exists</h2>
      <p>The username you entered is already taken. Please try a different username or sign in with your existing account.</p>
      <div class="modal-actions">
        <button class="modal-btn modal-btn-primary" id="goToLoginBtn">Go to Login</button>
        <button class="modal-btn modal-btn-secondary" id="closeModalBtn">Try Again</button>
      </div>
    </div>
  </div>

  <script src="register.js"></script>
</body>
</html>
